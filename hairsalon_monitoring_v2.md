---
title: "Hair SALON project monitoring"
author: "A.Amstutz"
date: "25.02.2024"
output:
  html_document:
    keep_md: yes
    toc: TRUE
    toc_float: TRUE
    code_folding: hide
  pdf_document:
    toc: yes
# runtime: shiny
# css: style.css
---
##############################################################################################
# PREPARATION
##############################################################################################
### Load packages

```r
library(readxl)
library(ggplot2)
library(DT) # shiny app style table
library(formattable) # shiny app style table
library(leaflet) # gps map
# library(shiny)
# library(remotes)
# remotes::install_gitlab("dickoa/robotoolbox")
# library(robotoolbox)

# install.packages("KoboconnectR") 
library(KoboconnectR)
library(tidyr)
library(dplyr)
packageVersion("KoboconnectR")
```

```
## [1] '1.2.2'
```

### Load data directly via accessing the REST API of KoboToolbox


### Functions, order and prepare dataframes

```r
### Create custom made functions ----
# Create a function to activate the URL links
link_activator <- function(x) {
  sprintf('<a href="%s" target="_blank">%s</a>', x, x)
}
# Create a function to mark the duplicates in red, bold
dupl_checker <- formatter("span",
                          style = function(x) style(
                            color = ifelse(duplicated(x) == TRUE, "white", "black"),
                            background.color = ifelse(duplicated(x) == TRUE, "red", "white"),
                            font.weight = ifelse(duplicated(x) == TRUE, "bold", "normal")
                          ))
# Create a function to mark a duplicate in red, bold - WITHIN fullname
dupl_checker_within_fullname <- function(fullname_col, source_col) {
  formatter("span",
            style = function(x) style(
              color = ifelse(duplicated(paste(fullname_col, x)) & x %in% unique(x), "white", "black"),
              background.color = ifelse(duplicated(paste(fullname_col, x)) & x %in% unique(x), "red", "white"),
              font.weight = ifelse(duplicated(paste(fullname_col, x)) & x %in% unique(x), "bold", "normal")
            ))
}
# Create a function to mark the duplicates in green, bold
dupl_checker_masterlist <- formatter("span",
                          style = function(x) style(
                            color = ifelse(duplicated(x) == TRUE, "white", "black"),
                            background.color = ifelse(duplicated(x) == TRUE, "green", "white"),
                            font.weight = ifelse(duplicated(x) == TRUE, "bold", "normal")
                          ))
# Create a function to mark the missing in red, bold
missing_checker <- formatter("span",
                          style = function(x) style(
                            color = ifelse(is.na(x) == TRUE, "white", "black"),
                            background.color = ifelse(is.na(x) == TRUE, "red", "white"),
                            font.weight = ifelse(is.na(x) == TRUE, "bold", "normal")
                          ))
# Create a function to mark the ages outside 15-35 in orange, bold
age_checker <- formatter("span",
                         style = function(x) style(
                           color = ifelse(is.na(x) | x < 15 | x > 35, "white", "black"),
                           background.color = ifelse(is.na(x) | x < 15 | x > 35, "orange", "white"),
                           font.weight = ifelse(is.na(x) | x < 15 | x > 35, "bold", "normal")
                           ))
# Create a function to marks the gender men in orange, bold
gender_checker <- formatter("span",
                            style = function(x) style(
                              color = ifelse(grepl("_man", x, ignore.case = TRUE), "white", "black"),
                              background.color = ifelse(grepl("_man", x, ignore.case = TRUE), "orange", "white"),
                              font.weight = ifelse(grepl("_man", x, ignore.case = TRUE), "bold", "normal")
                            ))


### Reformat all 4 questionnaires ----
# stylist registration
df_sr <- purrr::map_df(stylist_reg_list, ~setNames(.x, paste0(names(.x), seq_along(.x)))) 
names(df_sr) <- gsub("\\d+$", "", names(df_sr)) # Remove digits from variable names
df_sr <- df_sr %>% mutate(fullname_s = paste(firstname_s, lastname_s, sep = " ")) # create fullname
df_sr <- df_sr %>% rename(submission_time_s = `_submission_time`,
                          id = `_id`)
df_sr$source <- "registration"
df_sr$salon_pic_inside_s_URL <- sapply(df_sr$salon_pic_inside_s_URL, link_activator) # Activate URL
df_sr$salon_pic_outside_s_URL <- sapply(df_sr$salon_pic_outside_s_URL, link_activator) # Activate URL
df_sr$salon_gps_s_latitude <- as.numeric(df_sr$`_salon_gps_s_latitude`)
df_sr$salon_gps_s_longitude <- as.numeric(df_sr$`_salon_gps_s_longitude`)
df_sr <- df_sr[order(df_sr$submission_time_s, decreasing = TRUE), ] # sort by latest submission date/time on top

# stylist survey
df_ss <- purrr::map_df(stylist_surv_list, ~setNames(.x, paste0(names(.x), seq_along(.x)))) 
names(df_ss) <- gsub("\\d+$", "", names(df_ss)) 
df_ss <- df_ss %>% mutate(fullname_s = paste(firstname_s, lastname_s, sep = " ")) 
df_ss <- df_ss %>% rename(submission_time_s = `_submission_time`,
                          id = `_id`)
df_ss$source <- "survey"
df_ss$sign_s_URL <- sapply(df_ss$sign_s_001_URL, link_activator) 
df_ss <- df_ss[order(df_ss$submission_time_s, decreasing = TRUE), ] 

# client registration
df_cr <- purrr::map_df(client_reg_list, ~setNames(.x, paste0(names(.x), seq_along(.x)))) 
names(df_cr) <- gsub("\\d+$", "", names(df_cr)) 
df_cr <- df_cr %>% mutate(fullname_c = paste(firstname_c, lastname_c, sep = " ")) 
df_cr <- df_cr %>% mutate(fullname_s = paste(stylist_firstname_c, stylist_lastname_c, sep = " ")) 
df_cr <- df_cr %>% rename(submission_time_c = `_submission_time`,
                          id = `_id`)
df_cr$source <- "registration"
df_cr$hair_pic_c_URL <- sapply(df_cr$hair_pic_c_URL, link_activator) 
df_cr$salon_gps_c_latitude <- as.numeric(df_cr$`_salon_gps_c_latitude`)
df_cr$salon_gps_c_longitude <- as.numeric(df_cr$`_salon_gps_c_longitude`)
df_cr <- df_cr[order(df_cr$submission_time_c, decreasing = TRUE), ] 

# client survey
df_cs <- purrr::map_df(client_surv_list, ~setNames(.x, paste0(names(.x), seq_along(.x)))) 
names(df_cs) <- gsub("\\d+$", "", names(df_cs)) 
df_cs <- df_cs %>% mutate(fullname_c = paste(firstname_c, lastname_c, sep = " ")) 
df_cs <- df_cs %>% mutate(fullname_s = paste(stylist_firstname_c, stylist_lastname_c, sep = " "))
df_cs <- df_cs %>% rename(submission_time_c = `_submission_time`,
                          id = `_id`)
df_cs$source <- "survey"
df_cs$sign_c_URL <- sapply(df_cs$sign_c_URL, link_activator) 
df_cs <- df_cs[order(df_cs$submission_time_c, decreasing = TRUE), ]

# Set scipen parameter to a high value to prevent scientific notation
options(scipen = 999)
```

### Data cleaning


##############################################################################################
# STYLIST REGISTRATION
##############################################################################################
### Check GPS
*Click on the GPS arrow to see the name*

##### Document any strange GPS

```r
leaflet(data = df_sr) %>%
  addTiles() %>%
  addMarkers(~salon_gps_s_longitude, ~salon_gps_s_latitude, popup = ~fullname_s)
```

```{=html}
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-92c8476608566d621586" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-92c8476608566d621586">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[-29.314899,-30.112994,-28.888242,null,-28.764678,-28.945875,-29.209326,-28.768952,-29.314765,null,-29.314578,-29.623706,null,null,-29.479773,null,null,null,-29.31445],[27.496195,28.685723,27.910071,null,28.253576,28.169744,28.875518,28.249368,27.499384,null,27.510566,27.508583,null,null,27.529221,null,null,null,27.49708],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Motselisi Mokhalinyane","Mapaseka Tsoeute","MOLEFI LLANE","Mapaseka Moshe","Ntsabeng Ntsabe","Makoena Tsokeli","Mamello Nthoana","Christinah Mokhobo","Lieketseng Poli","Thandiwe Mokhobo","Manyakane Ramakatsa","Thabo Lebakeng","Mantsoele Kekele","Fumane Patotsa","Mateboho Possa","Nthatuoa 'Moso","Sebabatso Chonela","Rethabile Mafole","Mantsiuoa Mabea"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-30.112994,-28.764678],"lng":[27.496195,28.875518]}},"evals":[],"jsHooks":[]}</script>
```

### Check Duplicates, Pictures, and M-Pesa
*Duplicates are marked in bold red, based on fullname, mpesa number and whatsapp number*

*Table ordered by submission date/time (latest submission on top)*

##### Document any duplicate, strange picture and not matching M-Pesa

```r
df_sr_check <- df_sr %>% 
    select(fullname_s, age_s, gender_s, whatsapp_s, mpesa_name_s, mpesa_s, salon_district_s, salon_name_desc_s, salon_address_s, salon_pic_outside_s_URL, salon_pic_inside_s_URL, submission_time_s)

# Create the table
as.datatable(formattable(df_sr_check, list(fullname_s = dupl_checker,
                                          mpesa_s = dupl_checker,
                                          whatsapp_s = dupl_checker)),
             rownames = FALSE,
             filter = "top",
             class = 'cell-border stripe',
             editable = F,
             )
```

```{=html}
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f0f5a0d42c4dcfc22221" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f0f5a0d42c4dcfc22221">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["<span style=\"color: black; background-color: white; font-weight: normal\">Motselisi Mokhalinyane<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Tsoeute      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">MOLEFI LLANE          <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Moshe        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntsabeng Ntsabe       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Makoena Tsokeli       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamello Nthoana       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Christinah Mokhobo    <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Lieketseng Poli       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Thandiwe Mokhobo      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Manyakane Ramakatsa   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Thabo Lebakeng        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mantsoele Kekele      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Fumane Patotsa        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mateboho Possa        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Nthatuoa 'Moso        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Sebabatso Chonela     <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Rethabile Mafole      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mantsiuoa Mabea       <\/span>"],["38","27","22","25","25","25","32","53","25","26","35","28","31","28","35","30","28","27","39"],["gender_s_woman","gender_s_woman","gender_s_man  ","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_man  ","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman"],["<span style=\"color: black; background-color: white; font-weight: normal\">58515776   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56728340   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">69248345   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56129302   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">68747239   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26658549302<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59168114   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63051290   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">53082204   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">57296893   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">58148901   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56112102   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63261855   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">53119010   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50843072   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26651457232<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50394856   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50274227   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59073198   <\/span>"],["Motselisi Mokhalinyane      ","Mapaseka Tsoeute            ","MOLEFI LLANE                ","Mapaseka moshe              ","Ntsabeng Ntsane             ","Makoena Tsokeli             ","Mamello Nthoana             ","Christinah mamokhobo mokhobo","Lieketseng poli             ","Thandiwe Mokhobo            ","Manyakane Ramakatsa         ","Thabo Lebakeng              ","Mantsoele Kekele            ","Fumane Patotsa              ","Mateboho Possa              ","Nthatuoa Moso               ","Sebabatso Chonela           ","Rethabile Mafole            ","Mantsiuoa mabea             "],["<span style=\"color: black; background-color: white; font-weight: normal\">58515776   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56728340   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">57668514   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56129302   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">58464624   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26658549302<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59168114   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56771939   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">53082204   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">57296893   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">58148901   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56112102   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50175829   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">53119010   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50843072   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26651457232<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50394856   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50274227   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59073198   <\/span>"],["salon_district_s_mas","salon_district_s_qac","salon_district_s_mas","salon_district_s_mas","salon_district_s_but","salon_district_s_mas","salon_district_s_mok","salon_district_s_but","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_qac","salon_district_s_ler","salon_district_s_mas","salon_district_s_qut","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas"],["NA                                   ","NA                                   ","Edwin  Hair Studio                   ","NA                                   ","Ntsabeng hair salon                  ","Bellagente Beauty Parlour            ","Mamello hair salon                   ","Pleasure palace haïr and beauty salon","Braided by lieketseng                ","TheHairPlug                          ","Jessie's Hair and Beauty Salon       ","NA                                   ","NA                                   ","NA                                   ","Nthaby hairsolon                     ","Tattoos hair n beauty                ","NA                                   ","Unique Touch of Thabby               ","Nzi hair salon                       "],["Mahlanya building                                                             ","Motse Mocha                                                                   ","There is not specific  address  since we are offering  house calls            ","Opposite usave ha tsolo near Jesus is the lord pre school                     ","Botha Bothe behind new taxi rank at Damba building                            ","Digjam building, A white building Opposite Agrivet building Manonyane bus stop","Mapholaneng                                                                   ","Village walk mall botha- bothe                                                ","Town white building between Sekoting supermarket and chiefs fast food         ","Motimposo terminus kamora chemist alongside the supermarket                   ","Lakeside Makhaleng complex                                                    ","Morija , Posong B44 Road                                                      ","Qacha's nek Lifofaneng                                                        ","Next to church of chache                                                      ","Hamantsebo                                                                    ","Near Mountain Side Hotel                                                      ","Maseru, Masowe 1 Phillips                                                     ","Mahlanya building                                                             ","88 building room 7                                                            "],["<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F36031a42-6f6a-4253-bf1c-b6e97a74f7f3%2F17116342483721357955266840351672-15_58_53.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F36031a42-6f6a-4253-bf1c-b6e97a74f7f3%2F17116342483721357955266840351672-15_58_53.jpg<\/a>                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F6e2e6c52-e6bc-43af-85a1-6643ff8ffb6f%2Finbound2327913669773174373-10_6_47.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F6e2e6c52-e6bc-43af-85a1-6643ff8ffb6f%2Finbound2327913669773174373-10_6_47.jpg<\/a>                              ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F855ea912-d616-415f-97a2-8afb9b7aa538%2F20230729_162925-3_12_27.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F855ea912-d616-415f-97a2-8afb9b7aa538%2F20230729_162925-3_12_27.jpg<\/a>                                                    ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F60e6ef3f-8a0b-4cc8-870f-31488533f7d9%2F3DF68EDE-0BFC-45DE-9220-47C1BFA82C89-21_55_8.jpeg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F60e6ef3f-8a0b-4cc8-870f-31488533f7d9%2F3DF68EDE-0BFC-45DE-9220-47C1BFA82C89-21_55_8.jpeg<\/a>        ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F7f6aacee-89b9-40fe-b762-b0a491c98416%2FJPEG_20240327_124902_8114203004367510965-12_49_22.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F7f6aacee-89b9-40fe-b762-b0a491c98416%2FJPEG_20240327_124902_8114203004367510965-12_49_22.jpg<\/a>","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fddff3463-c262-48d8-80e6-872469bec0b6%2Finbound4450191589673927176-12_8_7.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fddff3463-c262-48d8-80e6-872469bec0b6%2Finbound4450191589673927176-12_8_7.jpg<\/a>                                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Ffdeed655-ff57-4701-a75b-88d6c19368e1%2F17115321499292552060334917148821-11_36_12.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Ffdeed655-ff57-4701-a75b-88d6c19368e1%2F17115321499292552060334917148821-11_36_12.jpg<\/a>                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5b21581a-badd-4916-9fb8-8fa541c2676a%2Finbound1100382713803247300-22_10_45.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5b21581a-badd-4916-9fb8-8fa541c2676a%2Finbound1100382713803247300-22_10_45.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd856457c-c1b2-4948-951a-eed1dedb839a%2Finbound424581827904299951-16_8_50.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd856457c-c1b2-4948-951a-eed1dedb839a%2Finbound424581827904299951-16_8_50.jpg<\/a>                                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F49c57d9e-0fba-4c79-9ed8-8737bd6702d2%2Finbound3838591876679900365-11_48_24.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F49c57d9e-0fba-4c79-9ed8-8737bd6702d2%2Finbound3838591876679900365-11_48_24.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F309df1a5-1ed1-42d6-a854-b914decb914b%2Finbound2576871751697586846-11_8_34.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F309df1a5-1ed1-42d6-a854-b914decb914b%2Finbound2576871751697586846-11_8_34.jpg<\/a>                              ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5442d310-5a61-477c-87f5-75c798721e88%2F17114381416162033814378223144471-9_29_52.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5442d310-5a61-477c-87f5-75c798721e88%2F17114381416162033814378223144471-9_29_52.jpg<\/a>                  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5e61348d-1622-4f4a-8181-afe6b3e658a9%2Finbound8333958539736042636-9_18_5.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5e61348d-1622-4f4a-8181-afe6b3e658a9%2Finbound8333958539736042636-9_18_5.jpg<\/a>                                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd331dc4a-9091-4190-ab1b-d90adc54c486%2Finbound5257884474945239562-5_34_57.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd331dc4a-9091-4190-ab1b-d90adc54c486%2Finbound5257884474945239562-5_34_57.jpg<\/a>                              ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd474f03c-80fc-444c-ae01-140f28afa9aa%2Finbound3369134447773302322-4_43_41.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd474f03c-80fc-444c-ae01-140f28afa9aa%2Finbound3369134447773302322-4_43_41.jpg<\/a>                              ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F8d128b1b-56ae-401e-ac43-a05dfbf561db%2Finbound7910736680716102719-0_58_59.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F8d128b1b-56ae-401e-ac43-a05dfbf561db%2Finbound7910736680716102719-0_58_59.jpg<\/a>                              ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F9f84bbe1-a1c3-4120-bfc8-e820e2168647%2F17113702713037783024529608450073-14_38_7.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F9f84bbe1-a1c3-4120-bfc8-e820e2168647%2F17113702713037783024529608450073-14_38_7.jpg<\/a>                  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F6e8360d8-778b-4d4f-b113-1b24f57ae779%2F1711368163350657075543856270057-14_3_29.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F6e8360d8-778b-4d4f-b113-1b24f57ae779%2F1711368163350657075543856270057-14_3_29.jpg<\/a>                    ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd1d502a7-8daf-43f5-bea3-38f43c9c05b7%2F17110272743404923578353200192779-15_21_27.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd1d502a7-8daf-43f5-bea3-38f43c9c05b7%2F17110272743404923578353200192779-15_21_27.jpg<\/a>                "],["<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F36031a42-6f6a-4253-bf1c-b6e97a74f7f3%2F17116343385168895338477219743232-15_59_25.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F36031a42-6f6a-4253-bf1c-b6e97a74f7f3%2F17116343385168895338477219743232-15_59_25.jpg<\/a>              ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F6e2e6c52-e6bc-43af-85a1-6643ff8ffb6f%2Finbound1623699739079580269-10_6_55.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F6e2e6c52-e6bc-43af-85a1-6643ff8ffb6f%2Finbound1623699739079580269-10_6_55.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F855ea912-d616-415f-97a2-8afb9b7aa538%2FIMG-20230726-WA0012-3_13_32.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F855ea912-d616-415f-97a2-8afb9b7aa538%2FIMG-20230726-WA0012-3_13_32.jpg<\/a>                                          ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F60e6ef3f-8a0b-4cc8-870f-31488533f7d9%2FEE605364-66EA-49C3-9571-E8C9CB39A6F5-21_55_31.jpeg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F60e6ef3f-8a0b-4cc8-870f-31488533f7d9%2FEE605364-66EA-49C3-9571-E8C9CB39A6F5-21_55_31.jpeg<\/a>    ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F7f6aacee-89b9-40fe-b762-b0a491c98416%2FJPEG_20240327_124927_7946074132982420128-12_50_2.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F7f6aacee-89b9-40fe-b762-b0a491c98416%2FJPEG_20240327_124927_7946074132982420128-12_50_2.jpg<\/a>","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fddff3463-c262-48d8-80e6-872469bec0b6%2Finbound824456472983089054-12_14_59.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fddff3463-c262-48d8-80e6-872469bec0b6%2Finbound824456472983089054-12_14_59.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Ffdeed655-ff57-4701-a75b-88d6c19368e1%2F1711532113669605655929017097136-11_35_30.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Ffdeed655-ff57-4701-a75b-88d6c19368e1%2F1711532113669605655929017097136-11_35_30.jpg<\/a>                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5b21581a-badd-4916-9fb8-8fa541c2676a%2Finbound7876696718285126411-22_11_41.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5b21581a-badd-4916-9fb8-8fa541c2676a%2Finbound7876696718285126411-22_11_41.jpg<\/a>                          ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd856457c-c1b2-4948-951a-eed1dedb839a%2Finbound819274677643449414-16_8_36.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd856457c-c1b2-4948-951a-eed1dedb839a%2Finbound819274677643449414-16_8_36.jpg<\/a>                              ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F49c57d9e-0fba-4c79-9ed8-8737bd6702d2%2Finbound863579150798303099-11_44_56.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F49c57d9e-0fba-4c79-9ed8-8737bd6702d2%2Finbound863579150798303099-11_44_56.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F309df1a5-1ed1-42d6-a854-b914decb914b%2Finbound1017529258832524673-11_8_44.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F309df1a5-1ed1-42d6-a854-b914decb914b%2Finbound1017529258832524673-11_8_44.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5442d310-5a61-477c-87f5-75c798721e88%2F17114382147442782813672613792708-9_30_39.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5442d310-5a61-477c-87f5-75c798721e88%2F17114382147442782813672613792708-9_30_39.jpg<\/a>                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5e61348d-1622-4f4a-8181-afe6b3e658a9%2Finbound8735276305654152193-9_20_11.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F5e61348d-1622-4f4a-8181-afe6b3e658a9%2Finbound8735276305654152193-9_20_11.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd331dc4a-9091-4190-ab1b-d90adc54c486%2Finbound8921718961951449036-5_33_35.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd331dc4a-9091-4190-ab1b-d90adc54c486%2Finbound8921718961951449036-5_33_35.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd474f03c-80fc-444c-ae01-140f28afa9aa%2Finbound5730487999402201877-4_47_38.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd474f03c-80fc-444c-ae01-140f28afa9aa%2Finbound5730487999402201877-4_47_38.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F8d128b1b-56ae-401e-ac43-a05dfbf561db%2Finbound3961628789441656627-0_59_10.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F8d128b1b-56ae-401e-ac43-a05dfbf561db%2Finbound3961628789441656627-0_59_10.jpg<\/a>                            ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F9f84bbe1-a1c3-4120-bfc8-e820e2168647%2FIMG-20240323-WA0009-14_36_7.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F9f84bbe1-a1c3-4120-bfc8-e820e2168647%2FIMG-20240323-WA0009-14_36_7.jpg<\/a>                                          ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F6e8360d8-778b-4d4f-b113-1b24f57ae779%2F17113682294627212638686503588208-14_4_55.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2F6e8360d8-778b-4d4f-b113-1b24f57ae779%2F17113682294627212638686503588208-14_4_55.jpg<\/a>                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd1d502a7-8daf-43f5-bea3-38f43c9c05b7%2F17110267449018459828828503968822-15_13_52.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fd85619df26744e138e9099d0e35233fe%2Fd1d502a7-8daf-43f5-bea3-38f43c9c05b7%2F17110267449018459828828503968822-15_13_52.jpg<\/a>              "],["2024-03-28T13:56:40","2024-03-28T08:06:29","2024-03-28T01:13:55","2024-03-27T19:52:47","2024-03-27T10:50:44","2024-03-27T10:15:45","2024-03-27T09:37:01","2024-03-26T20:13:08","2024-03-26T14:11:34","2024-03-26T09:48:39","2024-03-26T09:09:03","2024-03-26T07:31:59","2024-03-26T07:21:13","2024-03-26T03:35:51","2024-03-26T02:51:20","2024-03-25T22:59:40","2024-03-25T12:39:29","2024-03-25T12:05:32","2024-03-21T13:22:54"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>fullname_s<\/th>\n      <th>age_s<\/th>\n      <th>gender_s<\/th>\n      <th>whatsapp_s<\/th>\n      <th>mpesa_name_s<\/th>\n      <th>mpesa_s<\/th>\n      <th>salon_district_s<\/th>\n      <th>salon_name_desc_s<\/th>\n      <th>salon_address_s<\/th>\n      <th>salon_pic_outside_s_URL<\/th>\n      <th>salon_pic_inside_s_URL<\/th>\n      <th>submission_time_s<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"fullname_s","targets":0},{"name":"age_s","targets":1},{"name":"gender_s","targets":2},{"name":"whatsapp_s","targets":3},{"name":"mpesa_name_s","targets":4},{"name":"mpesa_s","targets":5},{"name":"salon_district_s","targets":6},{"name":"salon_name_desc_s","targets":7},{"name":"salon_address_s","targets":8},{"name":"salon_pic_outside_s_URL","targets":9},{"name":"salon_pic_inside_s_URL","targets":10},{"name":"submission_time_s","targets":11}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
```

###########
#### **Now, send to all Stylists (who do not have strange info) the Stylist consent form and the Stylist survey link**
###########

##############################################################################################
# STYLIST SURVEY
##############################################################################################
### Check Duplicates and Signature
*Duplicates are marked in bold red, based on fullname and whatsapp number*

*Table ordered by submission date/time (latest submission on top)*

##### Document any duplicate and missing signature

```r
df_ss_check <- df_ss %>% 
    select(fullname_s, age_s, gender_s, whatsapp_s, salon_district_s, sign_s_URL, submission_time_s)

# Create the table
as.datatable(formattable(df_ss_check, list(fullname_s = dupl_checker,
                                          whatsapp_s = dupl_checker)),
             rownames = FALSE,
             filter = "top",
             class = 'cell-border stripe',
             editable = F,
             )
```

```{=html}
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f4f0f1fa8658ef4c3858" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f4f0f1fa8658ef4c3858">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Tsoeute   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Rethabile Mafole   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntsabeng Ntsane    <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Thabo Lebakeng     <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamello Nthoana    <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Sebabatso Chonela  <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Manyakane Ramakatsa<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Thandiwe Mokhobo   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mantsoele Kekele   <\/span>"],["27","27","25","28","32","28","35","26","31"],["gender_s_woman","gender_s_woman","gender_s_man  ","gender_s_man  ","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman"],["<span style=\"color: black; background-color: white; font-weight: normal\">56728340<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50274227<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">68747239<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56112102<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59168114<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">50394856<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">58148901<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">57296893<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63261855<\/span>"],["salon_district_s_qac","salon_district_s_mas","salon_district_s_but","salon_district_s_mas","salon_district_s_mok","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_qac"],["<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2Fcdf4d4fb-b38d-4c63-aef7-237eba9856d6%2Fsignature-12_6_31.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2Fcdf4d4fb-b38d-4c63-aef7-237eba9856d6%2Fsignature-12_6_31.png<\/a>  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F268b3943-e33d-43ca-a63a-638edfad5336%2Fsignature-18_2_11.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F268b3943-e33d-43ca-a63a-638edfad5336%2Fsignature-18_2_11.png<\/a>  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2Fb463102e-4846-4642-b398-c0cad5b838c5%2Fsignature-14_5_52.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2Fb463102e-4846-4642-b398-c0cad5b838c5%2Fsignature-14_5_52.png<\/a>  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F94d8f483-95ca-4795-8c9f-34da6238da4b%2Fsignature-12_46_40.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F94d8f483-95ca-4795-8c9f-34da6238da4b%2Fsignature-12_46_40.png<\/a>","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F09c79397-f4af-43a0-a4e1-978082de874a%2Fsignature-12_23_3.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F09c79397-f4af-43a0-a4e1-978082de874a%2Fsignature-12_23_3.png<\/a>  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2Fae09fbe4-928d-4981-a2b5-8ddd2e162352%2Fsignature-11_34_33.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2Fae09fbe4-928d-4981-a2b5-8ddd2e162352%2Fsignature-11_34_33.png<\/a>","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2Ff21b02a6-fe06-4162-961d-fbcaf877053b%2Fsignature-14_52_9.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2Ff21b02a6-fe06-4162-961d-fbcaf877053b%2Fsignature-14_52_9.png<\/a>  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F58b00f7d-ad4f-458f-b4e4-416640200451%2Fsignature-12_29_33.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F58b00f7d-ad4f-458f-b4e4-416640200451%2Fsignature-12_29_33.png<\/a>","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F9394693e-ab32-45c4-9ddd-90c88f2e0653%2Fsignature-10_17_19.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2Fb525e69dec824a21b3da6743823e0a66%2F9394693e-ab32-45c4-9ddd-90c88f2e0653%2Fsignature-10_17_19.png<\/a>"],["2024-03-28T10:05:29","2024-03-27T16:08:30","2024-03-27T12:05:57","2024-03-27T10:47:37","2024-03-27T10:23:28","2024-03-27T09:34:33","2024-03-26T12:52:34","2024-03-26T10:29:38","2024-03-26T08:17:28"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>fullname_s<\/th>\n      <th>age_s<\/th>\n      <th>gender_s<\/th>\n      <th>whatsapp_s<\/th>\n      <th>salon_district_s<\/th>\n      <th>sign_s_URL<\/th>\n      <th>submission_time_s<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"fullname_s","targets":0},{"name":"age_s","targets":1},{"name":"gender_s","targets":2},{"name":"whatsapp_s","targets":3},{"name":"salon_district_s","targets":4},{"name":"sign_s_URL","targets":5},{"name":"submission_time_s","targets":6}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
```

### Link Stylist Survey to Stylist Registration
*Each Stylist should have her/his name in duplicate (bold green), once from the registration form and once from the survey*

*If a Stylist has an entry multiple times from the same source (registration/survey), then this is a duplicate (red bold)*

*Table is NOT ordered by submission date/time (but by fullname)*


```r
df_ss_linkage <- df_ss %>% 
    select(source, fullname_s, age_s, gender_s, whatsapp_s, salon_district_s, submission_time_s)
df_sr_linkage <- df_sr %>% 
    select(source, fullname_s, age_s, gender_s, whatsapp_s, salon_district_s, submission_time_s)

df_sr_ss <- rbind(df_ss_linkage, df_sr_linkage)
df_sr_ss <- df_sr_ss[order(df_sr_ss$fullname_s, df_sr_ss$submission_time_s), ]

df_sr_ss <- df_sr_ss %>% 
    select(source, fullname_s, age_s, gender_s, whatsapp_s, salon_district_s, submission_time_s)

# Create the table
as.datatable(formattable(df_sr_ss, list(fullname_s = dupl_checker_masterlist,
                                        whatsapp_s = dupl_checker_masterlist,
                                        dupl_checker_within_fullname(df_sr_ss$fullname_s, df_sr_ss$source)
                                        )),
             rownames = FALSE,
             filter = "top",
             class = 'cell-border stripe',
             editable = F,
             )
```

```{=html}
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-e149d7453b57c415d0a2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e149d7453b57c415d0a2">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["registration","registration","registration","registration","registration","survey      ","registration","registration","survey      ","registration","survey      ","registration","registration","survey      ","registration","registration","registration","registration","registration","survey      ","registration","survey      ","registration","survey      ","registration","survey      ","registration","survey      "],["<span style=\"color: black; background-color: white; font-weight: normal\">Christinah Mokhobo    <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Fumane Patotsa        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Lieketseng Poli       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Makoena Tsokeli       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamello Nthoana       <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Mamello Nthoana       <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Mantsiuoa Mabea       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mantsoele Kekele      <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Mantsoele Kekele      <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Manyakane Ramakatsa   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Manyakane Ramakatsa   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Moshe        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Tsoeute      <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Mapaseka Tsoeute      <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Mateboho Possa        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">MOLEFI LLANE          <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Motselisi Mokhalinyane<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Nthatuoa 'Moso        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntsabeng Ntsabe       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntsabeng Ntsane       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Rethabile Mafole      <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Rethabile Mafole      <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Sebabatso Chonela     <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Sebabatso Chonela     <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Thabo Lebakeng        <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Thabo Lebakeng        <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Thandiwe Mokhobo      <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Thandiwe Mokhobo      <\/span>  "],["53","28","25","25","32","32","39","31","31","35","35","25","27","27","35","22","38","30","25","25","27","27","28","28","28","28","26","26"],["gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_man  ","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_man  ","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_man  ","gender_s_man  ","gender_s_woman","gender_s_woman"],["<span style=\"color: black; background-color: white; font-weight: normal\">63051290   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">53119010   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">53082204   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26658549302<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59168114   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">59168114   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">59073198   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63261855   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">63261855   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">58148901   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">58148901   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">56129302   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56728340   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">56728340   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">50843072   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">69248345   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">58515776   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26651457232<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">68747239   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">68747239   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">50274227   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">50274227   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">50394856   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">50394856   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">56112102   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">56112102   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">57296893   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">57296893   <\/span>  "],["salon_district_s_but","salon_district_s_ler","salon_district_s_mas","salon_district_s_mas","salon_district_s_mok","salon_district_s_mok","salon_district_s_mas","salon_district_s_qac","salon_district_s_qac","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_qac","salon_district_s_qac","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_qut","salon_district_s_but","salon_district_s_but","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas"],["2024-03-26T20:13:08","2024-03-26T03:35:51","2024-03-26T14:11:34","2024-03-27T10:15:45","2024-03-27T09:37:01","2024-03-27T10:23:28","2024-03-21T13:22:54","2024-03-26T07:21:13","2024-03-26T08:17:28","2024-03-26T09:09:03","2024-03-26T12:52:34","2024-03-27T19:52:47","2024-03-28T08:06:29","2024-03-28T10:05:29","2024-03-26T02:51:20","2024-03-28T01:13:55","2024-03-28T13:56:40","2024-03-25T22:59:40","2024-03-27T10:50:44","2024-03-27T12:05:57","2024-03-25T12:05:32","2024-03-27T16:08:30","2024-03-25T12:39:29","2024-03-27T09:34:33","2024-03-26T07:31:59","2024-03-27T10:47:37","2024-03-26T09:48:39","2024-03-26T10:29:38"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>source<\/th>\n      <th>fullname_s<\/th>\n      <th>age_s<\/th>\n      <th>gender_s<\/th>\n      <th>whatsapp_s<\/th>\n      <th>salon_district_s<\/th>\n      <th>submission_time_s<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"source","targets":0},{"name":"fullname_s","targets":1},{"name":"age_s","targets":2},{"name":"gender_s","targets":3},{"name":"whatsapp_s","targets":4},{"name":"salon_district_s","targets":5},{"name":"submission_time_s","targets":6}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
```

###########
#### **Now, send to Stylists who also have a Stylist Survey: a) the PrEP flyer and b) the message about recruiting Clients including the Client Registration homepage link (see googledoc)**
###########

##### Document this

##############################################################################################
# CLIENT REGISTRATION
##############################################################################################
### Check GPS
*Click on the GPS arrow to see the name*


```r
leaflet(data = df_cr) %>%
  addTiles() %>%
  addMarkers(~salon_gps_c_longitude, ~salon_gps_c_latitude, popup = ~fullname_c)
```

```{=html}
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-a2b98fa9f06c877d7ccb" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-a2b98fa9f06c877d7ccb">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[-29.315315,null,-30.106379,null,null,null,null,-29.315315,null,null,null],[27.504215,null,28.668589,null,null,null,null,27.524879,null,null,null],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Moneka Mahau","Itumeleng Moletsane","Mapaseka Tsoeute","Mamolemo Malapane","Mary Monyatheli","Tlatseletso Mpela","Mamello Khalanyane","Reitumetse Thulo","Rethabile Pitso","Ntenne Ngakane","Rethabile Pitso"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-30.106379,-29.315315],"lng":[27.504215,28.668589]}},"evals":[],"jsHooks":[]}</script>
```

### Check Duplicates, Pictures, M-Pesa, Age and Gender
*Duplicates are marked in bold red, based on fullname, mpesa number and whatsapp number*

*Any male gender & any age outside 15-35 years are marked in bold orange*

*Table ordered by submission date/time (latest submission on top)*

##### Document any duplicate, strange picture, not matching M-Pesa - and if any male client or client outside the eligible age range registered

```r
df_cr_check <- df_cr %>% 
    select(fullname_c, age_c, gender_c, whatsapp_c, mpesa_name_c, mpesa_c, salon_district_c, salon_name_desc_c, salon_address_c, fullname_s, hair_pic_c_URL, submission_time_c)

# Create the table
as.datatable(formattable(df_cr_check, list(fullname_c = dupl_checker,
                                          mpesa_c = dupl_checker,
                                          whatsapp_c = dupl_checker,
                                          age_c = age_checker,
                                          gender_c = gender_checker)),
             rownames = FALSE,
             filter = "top",
             class = 'cell-border stripe',
             editable = F,
             )
```

```{=html}
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1eb60aa44ee3c9beb432" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1eb60aa44ee3c9beb432">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["<span style=\"color: black; background-color: white; font-weight: normal\">Moneka Mahau       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Itumeleng Moletsane<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Tsoeute   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamolemo Malapane  <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mary Monyatheli    <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Tlatseletso Mpela  <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamello Khalanyane <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Reitumetse Thulo   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Rethabile Pitso    <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntenne Ngakane     <\/span>","<span style=\"color: white; background-color: red; font-weight: bold\">Rethabile Pitso    <\/span>    "],["<span style=\"color: black; background-color: white; font-weight: normal\">20<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">21<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">27<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">30<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">32<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">24<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">25<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">21<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">23<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">21<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">23<\/span>"],["<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">gender_c_woman<\/span>","<span style=\"color: white; background-color: orange; font-weight: bold\">gender_c_man  <\/span> "],["<span style=\"color: black; background-color: white; font-weight: normal\">58581062<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">62210602<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56728340<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63771154<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">62371238<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">62037901<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63974352<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59315034<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63290995<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">62598075<\/span>","<span style=\"color: white; background-color: red; font-weight: bold\">63290995<\/span>    "],["Moneka Mahao      ","Mamoleboheng Kiibe","Mapaseka Tsoeute  ","Mamolemo Malapane ","Mary Monyatheli   ","Tlatseletso Mpela ","Mamello Khalanyane","Reitumetse Thulo  ","Rethabile Pitso   ","Ntenne Ngakane    ","Rethabile Pitso   "],["<span style=\"color: black; background-color: white; font-weight: normal\">58581062<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59375832<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56728340<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59701747<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">57943563<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">57216986<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59943255<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59315034<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59035801<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56590717<\/span>","<span style=\"color: white; background-color: red; font-weight: bold\">59035801<\/span>    "],["salon_district_c_mas","salon_district_c_mas","salon_district_c_qac","salon_district_c_qac","salon_district_c_mas","salon_district_c_qac","salon_district_c_mas","salon_district_c_mas","salon_district_c_mas","salon_district_c_mas","salon_district_c_mas"],["Unique touch of thabby","TheHairPlug           ","NA                    ","NA                    ","The hair plug salon   ","NA                    ","TheHairPlug           ","The Hair Plug         ","TheHairPlug           ","TheHairPlug           ","TheHairPlug           "],["Mahlanya building                                       ","Motimposo terminus pela machaeneng                      ","Lifofaneng qacha's nek                                  ","Lifofaneng Qacha s Nek                                  ","Motimposo Terminus tlasa machaeneng                     ","Lifofaneng                                              ","Motimposo terminus pela machaeneng kamora chemist       ","Motimposo next to Terminus Chinese Shop behind a chemist","Motimposo terminus pela machaeneng kamora chemist       ","Motimposo terminus pela machaeneng kamora chemist       ","Motimposo terminus pela machaeneng kamora chemist       "],["Rethabile Mafole","Thandiwe Mokhobo","Mantsoele Kekele","Mantsoele Kekele","Thandiwe Mokhobo","Mantsoele Kekele","Thandiwe Mokhobo","Thandiwe Mokhobo","Thandiwe Mokhobo","Thandiwe Mokhobo","Thandiwe Mokhobo"],["<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F4489cd70-0e4a-497f-9e24-e4396e8f57e5%2F17116384870386403919677324058055-17_8_44.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F4489cd70-0e4a-497f-9e24-e4396e8f57e5%2F17116384870386403919677324058055-17_8_44.jpg<\/a>","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F0ec5476a-69f9-4caa-ad73-862704442592%2F1000269517-13_12_25.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F0ec5476a-69f9-4caa-ad73-862704442592%2F1000269517-13_12_25.jpg<\/a>                                          ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2Fe5fcb306-dcbf-4324-868f-eae9d7994b6a%2F1703399689554-17_48_20.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2Fe5fcb306-dcbf-4324-868f-eae9d7994b6a%2F1703399689554-17_48_20.jpg<\/a>                                    ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F847c4fc2-f292-417f-8ddb-bcd47e13b3cd%2FIMG_20240327_130453-13_5_13.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F847c4fc2-f292-417f-8ddb-bcd47e13b3cd%2FIMG_20240327_130453-13_5_13.jpg<\/a>                          ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F6f308f79-1a89-4711-98eb-c2baa49825b8%2F17115337780461445167893609683450-12_3_48.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F6f308f79-1a89-4711-98eb-c2baa49825b8%2F17115337780461445167893609683450-12_3_48.jpg<\/a>","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F9c6d6b55-8e63-46fa-9337-83839bce18f7%2F20240326_180145-18_2_16.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F9c6d6b55-8e63-46fa-9337-83839bce18f7%2F20240326_180145-18_2_16.jpg<\/a>                                  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F5b05f3f2-161e-4bdc-83c7-9eb4c45d0d65%2FIMG-20231221-WA0020-13_32_58.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F5b05f3f2-161e-4bdc-83c7-9eb4c45d0d65%2FIMG-20231221-WA0020-13_32_58.jpg<\/a>                        ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2Ff7f34350-fe2d-415a-8a7f-2fb4b85be3b5%2F20240307_145413-13_30_59.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2Ff7f34350-fe2d-415a-8a7f-2fb4b85be3b5%2F20240307_145413-13_30_59.jpg<\/a>                                ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F73b592a0-142b-438a-97c8-3d0b2c0d3dc0%2FIMG-20240304-WA0069-13_24_35.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F73b592a0-142b-438a-97c8-3d0b2c0d3dc0%2FIMG-20240304-WA0069-13_24_35.jpg<\/a>                        ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F7b447c4e-483b-417c-9bc6-3986cf4213c3%2F20231216_174422-13_6_52.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F7b447c4e-483b-417c-9bc6-3986cf4213c3%2F20231216_174422-13_6_52.jpg<\/a>                                  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F3b0e1eef-1b8f-4013-b9b1-2a6fd75e3da1%2F1000258309-12_47_57.jpg\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija%2Fattachments%2F93b895b18f8f4dcd80b8da6950536227%2F3b0e1eef-1b8f-4013-b9b1-2a6fd75e3da1%2F1000258309-12_47_57.jpg<\/a>                                          "],["2024-03-28T15:09:05","2024-03-28T11:13:02","2024-03-27T15:47:44","2024-03-27T11:05:47","2024-03-27T10:04:16","2024-03-26T16:02:24","2024-03-26T11:33:10","2024-03-26T11:31:31","2024-03-26T11:25:04","2024-03-26T11:07:12","2024-03-26T10:48:22"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>fullname_c<\/th>\n      <th>age_c<\/th>\n      <th>gender_c<\/th>\n      <th>whatsapp_c<\/th>\n      <th>mpesa_name_c<\/th>\n      <th>mpesa_c<\/th>\n      <th>salon_district_c<\/th>\n      <th>salon_name_desc_c<\/th>\n      <th>salon_address_c<\/th>\n      <th>fullname_s<\/th>\n      <th>hair_pic_c_URL<\/th>\n      <th>submission_time_c<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"fullname_c","targets":0},{"name":"age_c","targets":1},{"name":"gender_c","targets":2},{"name":"whatsapp_c","targets":3},{"name":"mpesa_name_c","targets":4},{"name":"mpesa_c","targets":5},{"name":"salon_district_c","targets":6},{"name":"salon_name_desc_c","targets":7},{"name":"salon_address_c","targets":8},{"name":"fullname_s","targets":9},{"name":"hair_pic_c_URL","targets":10},{"name":"submission_time_c","targets":11}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
```

###########
#### **Now, send to all Clients (who do not have strange info) the Client consent form and the Client survey link**
###########

##############################################################################################
# CLIENT SURVEY
##############################################################################################
### Check Duplicates and Signature picture
*Duplicates are marked in bold red, based on fullname and whatsapp number*

*Table ordered by submission date/time (latest submission on top)*

##### Document any duplicate and missing signature

```r
df_cs_check <- df_cs %>% 
    select(fullname_c, age_c, gender_c, whatsapp_c, salon_district_c, sign_c_URL, submission_time_c)

# Create the table
as.datatable(formattable(df_cs_check, list(fullname_c = dupl_checker,
                                          whatsapp_c = dupl_checker)),
             rownames = FALSE,
             filter = "top",
             class = 'cell-border stripe',
             editable = F,
             )
```

```{=html}
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-88f5833b623b912fcb63" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-88f5833b623b912fcb63">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["<span style=\"color: black; background-color: white; font-weight: normal\">Itumeleng Moletsane<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaeseka Tsoeute  <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamolemo Malapane  <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntenne Ngakane     <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Reitumetse Thulo   <\/span>"],["21","27","30","21","21"],["gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_man  "],["<span style=\"color: black; background-color: white; font-weight: normal\">62210602<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">56728340<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63771154<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">62598075<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">59315034<\/span>"],["salon_district_c_mas","salon_district_c_qac","salon_district_c_qac","salon_district_c_tha","salon_district_c_mas"],["<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2F546e8ee1-141c-42ee-8585-ea034437e0de%2Fsignature-14_46_38.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2F546e8ee1-141c-42ee-8585-ea034437e0de%2Fsignature-14_46_38.png<\/a>","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2Fea6e5eb8-022d-436e-bb88-0d86230fa6fd%2Fsignature-10_1_28.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2Fea6e5eb8-022d-436e-bb88-0d86230fa6fd%2Fsignature-10_1_28.png<\/a>  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2F3f15c14f-8ff3-4fe2-be9a-6fd2ff76def0%2Fsignature-14_47_9.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2F3f15c14f-8ff3-4fe2-be9a-6fd2ff76def0%2Fsignature-14_47_9.png<\/a>  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2F5f481092-8571-4091-8514-86b70df5db1b%2Fsignature-17_28_6.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2F5f481092-8571-4091-8514-86b70df5db1b%2Fsignature-17_28_6.png<\/a>  ","<a href=\"https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2Feab36d2d-7664-4a93-8b11-63d2ee504bfb%2Fsignature-17_15_31.png\" target=\"_blank\">https://kc.kobotoolbox.org/media/original?media_file=thehubatmorija2%2Fattachments%2F08054ee69c3e459a81722e30c689cbbc%2Feab36d2d-7664-4a93-8b11-63d2ee504bfb%2Fsignature-17_15_31.png<\/a>"],["2024-03-28T12:46:44","2024-03-28T08:00:27","2024-03-27T12:47:14","2024-03-26T15:28:21","2024-03-26T15:15:36"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>fullname_c<\/th>\n      <th>age_c<\/th>\n      <th>gender_c<\/th>\n      <th>whatsapp_c<\/th>\n      <th>salon_district_c<\/th>\n      <th>sign_c_URL<\/th>\n      <th>submission_time_c<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"fullname_c","targets":0},{"name":"age_c","targets":1},{"name":"gender_c","targets":2},{"name":"whatsapp_c","targets":3},{"name":"salon_district_c","targets":4},{"name":"sign_c_URL","targets":5},{"name":"submission_time_c","targets":6}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
```

### Link Client Survey to Client Registration
*Each Client should have her name in duplicate (bold green), once from the registration form and once from the survey*

*If a Client has an entry multiple times from the same source (registration/survey), then this is a duplicate (bold red)*

*Table is NOT ordered by submission date/time (but by fullname)*


```r
df_cs_linkage <- df_cs %>% 
    select(source, fullname_c, age_c, gender_c, whatsapp_c, salon_district_c, fullname_s, submission_time_c)
df_cr_linkage <- df_cr %>% 
    select(source, fullname_c, age_c, gender_c, whatsapp_c, salon_district_c, fullname_s, submission_time_c)

df_cr_cs <- rbind(df_cs_linkage, df_cr_linkage)
df_cr_cs <- df_cr_cs[order(df_cr_cs$fullname_c, df_cr_cs$submission_time_c), ]

df_cr_cs <- df_cr_cs %>% 
    select(source, fullname_c, age_c, gender_c, whatsapp_c, salon_district_c, fullname_s, submission_time_c)

# Create the table
as.datatable(formattable(df_cr_cs, list(fullname_c = dupl_checker_masterlist,
                                        whatsapp_c = dupl_checker_masterlist,
                                        source = dupl_checker_within_fullname(df_cr_cs$fullname_c, df_cr_cs$source)
                                        )),
             rownames = FALSE,
             filter = "top",
             class = 'cell-border stripe',
             editable = F,
             )
```

```{=html}
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9982216ef0ebf274acee" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9982216ef0ebf274acee">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">survey      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">survey      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">survey      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">survey      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">survey      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>","<span style=\"color: white; background-color: red; font-weight: bold\">registration<\/span>    ","<span style=\"color: black; background-color: white; font-weight: normal\">registration<\/span>"],["<span style=\"color: black; background-color: white; font-weight: normal\">Itumeleng Moletsane<\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Itumeleng Moletsane<\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Mamello Khalanyane <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamolemo Malapane  <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Mamolemo Malapane  <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaeseka Tsoeute  <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Tsoeute   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mary Monyatheli    <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Moneka Mahau       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntenne Ngakane     <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Ntenne Ngakane     <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Reitumetse Thulo   <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Reitumetse Thulo   <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Rethabile Pitso    <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Rethabile Pitso    <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Tlatseletso Mpela  <\/span>"],["21","21","25","30","30","27","27","32","20","21","21","21","21","23","23","24"],["gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_woman","gender_c_man  ","gender_c_man  ","gender_c_woman","gender_c_woman"],["<span style=\"color: black; background-color: white; font-weight: normal\">62210602<\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">62210602<\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">63974352<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">63771154<\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">63771154<\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">56728340<\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">56728340<\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">62371238<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">58581062<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">62598075<\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">62598075<\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">59315034<\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">59315034<\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">63290995<\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">63290995<\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">62037901<\/span>"],["salon_district_c_mas","salon_district_c_mas","salon_district_c_mas","salon_district_c_qac","salon_district_c_qac","salon_district_c_qac","salon_district_c_qac","salon_district_c_mas","salon_district_c_mas","salon_district_c_mas","salon_district_c_tha","salon_district_c_mas","salon_district_c_mas","salon_district_c_mas","salon_district_c_mas","salon_district_c_qac"],["Thandiwe Mokhobo","Thandiwe Mokhobo","Thandiwe Mokhobo","Mantsoele Kekele","Mantsoele Kekele","Mantsoele Kekele","Mantsoele Kekele","Thandiwe Mokhobo","Rethabile Mafole","Thandiwe Mokhobo","Thandiwe Mokhobo","Thandiwe Mokhobo","Thandiwe Mokhobo","Thandiwe Mokhobo","Thandiwe Mokhobo","Mantsoele Kekele"],["2024-03-28T11:13:02","2024-03-28T12:46:44","2024-03-26T11:33:10","2024-03-27T11:05:47","2024-03-27T12:47:14","2024-03-28T08:00:27","2024-03-27T15:47:44","2024-03-27T10:04:16","2024-03-28T15:09:05","2024-03-26T11:07:12","2024-03-26T15:28:21","2024-03-26T11:31:31","2024-03-26T15:15:36","2024-03-26T10:48:22","2024-03-26T11:25:04","2024-03-26T16:02:24"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>source<\/th>\n      <th>fullname_c<\/th>\n      <th>age_c<\/th>\n      <th>gender_c<\/th>\n      <th>whatsapp_c<\/th>\n      <th>salon_district_c<\/th>\n      <th>fullname_s<\/th>\n      <th>submission_time_c<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"source","targets":0},{"name":"fullname_c","targets":1},{"name":"age_c","targets":2},{"name":"gender_c","targets":3},{"name":"whatsapp_c","targets":4},{"name":"salon_district_c","targets":5},{"name":"fullname_s","targets":6},{"name":"submission_time_c","targets":7}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
```

###########
#### **Now, send to all Clients (who have a registration + survey) the PrEP flyer and the Thank you message**
###########

##### Document this

##############################################################################################
# LINK STYLIST Registration to CLIENT Survey 
##############################################################################################
*Stylist info is at the beginning, Client info is marked in lightblue.*

*Each Stylist should have maximum 3 clients (=> maximum twice marked in bold green).*

*Check column fullname_c: If there is NA (red bold) it means that no client could be linked to this stylist*

*Check column age_s: If there is NA (red bold) it means that this client (see fullname_c) entered a wrong stylist name*

*Table is NOT ordered by submission date/time (but by fullname)*


```r
df_sr_link <- df_sr_check %>% 
    select(fullname_s, age_s, gender_s, whatsapp_s, mpesa_name_s, mpesa_s, salon_district_s, salon_name_desc_s, salon_address_s, submission_time_s)
df_cs_link <- df_cs %>% 
    select(fullname_c, age_c, gender_c, whatsapp_c, salon_district_c, fullname_s, submission_time_c)

df_sr_cr <- merge(df_sr_link, df_cs_link, by = "fullname_s", all.x = TRUE, all.y = TRUE)
df_sr_cr <- df_sr_cr[order(df_sr_cr$fullname_s, df_sr_cr$submission_time_s), ]

# Create the table
columns_c <- c("fullname_c", "age_c", "gender_c", "whatsapp_c", "salon_district_c", "submission_time_c")
as.datatable(formattable(df_sr_cr, list(fullname_s = dupl_checker_masterlist,
                                        age_s = missing_checker,
                                        fullname_c = missing_checker)),
             rownames = FALSE,
             filter = "top",
             class = 'cell-border stripe',
             editable = F) %>%
  formatStyle(columns_c, backgroundColor = 'lightblue')
```

```{=html}
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-998fdd53ba2b7d4168ec" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-998fdd53ba2b7d4168ec">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["<span style=\"color: black; background-color: white; font-weight: normal\">Christinah Mokhobo    <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Fumane Patotsa        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Lieketseng Poli       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Makoena Tsokeli       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamello Nthoana       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mantsiuoa Mabea       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mantsoele Kekele      <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Mantsoele Kekele      <\/span>  ","<span style=\"color: black; background-color: white; font-weight: normal\">Manyakane Ramakatsa   <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Moshe        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaseka Tsoeute      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mateboho Possa        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">MOLEFI LLANE          <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Motselisi Mokhalinyane<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Nthatuoa 'Moso        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntsabeng Ntsabe       <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Rethabile Mafole      <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Sebabatso Chonela     <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Thabo Lebakeng        <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Thandiwe Mokhobo      <\/span>","<span style=\"color: white; background-color: green; font-weight: bold\">Thandiwe Mokhobo      <\/span>  ","<span style=\"color: white; background-color: green; font-weight: bold\">Thandiwe Mokhobo      <\/span>  "],["<span style=\"color: black; background-color: white; font-weight: normal\">53<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">28<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">25<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">25<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">32<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">39<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">31<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">31<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">35<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">25<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">27<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">35<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">22<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">38<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">30<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">25<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">27<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">28<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">28<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">26<\/span>"],["gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_man  ","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_woman","gender_s_man  ","gender_s_woman","gender_s_woman","gender_s_woman"],["63051290   ","53119010   ","53082204   ","26658549302","59168114   ","59073198   ","63261855   ","63261855   ","58148901   ","56129302   ","56728340   ","50843072   ","69248345   ","58515776   ","26651457232","68747239   ","50274227   ","50394856   ","56112102   ","57296893   ","57296893   ","57296893   "],["Christinah mamokhobo mokhobo","Fumane Patotsa              ","Lieketseng poli             ","Makoena Tsokeli             ","Mamello Nthoana             ","Mantsiuoa mabea             ","Mantsoele Kekele            ","Mantsoele Kekele            ","Manyakane Ramakatsa         ","Mapaseka moshe              ","Mapaseka Tsoeute            ","Mateboho Possa              ","MOLEFI LLANE                ","Motselisi Mokhalinyane      ","Nthatuoa Moso               ","Ntsabeng Ntsane             ","Rethabile Mafole            ","Sebabatso Chonela           ","Thabo Lebakeng              ","Thandiwe Mokhobo            ","Thandiwe Mokhobo            ","Thandiwe Mokhobo            "],["56771939   ","53119010   ","53082204   ","26658549302","59168114   ","59073198   ","50175829   ","50175829   ","58148901   ","56129302   ","56728340   ","50843072   ","57668514   ","58515776   ","26651457232","58464624   ","50274227   ","50394856   ","56112102   ","57296893   ","57296893   ","57296893   "],["salon_district_s_but","salon_district_s_ler","salon_district_s_mas","salon_district_s_mas","salon_district_s_mok","salon_district_s_mas","salon_district_s_qac","salon_district_s_qac","salon_district_s_mas","salon_district_s_mas","salon_district_s_qac","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_qut","salon_district_s_but","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas","salon_district_s_mas"],["Pleasure palace haïr and beauty salon","NA                                   ","Braided by lieketseng                ","Bellagente Beauty Parlour            ","Mamello hair salon                   ","Nzi hair salon                       ","NA                                   ","NA                                   ","Jessie's Hair and Beauty Salon       ","NA                                   ","NA                                   ","Nthaby hairsolon                     ","Edwin  Hair Studio                   ","NA                                   ","Tattoos hair n beauty                ","Ntsabeng hair salon                  ","Unique Touch of Thabby               ","NA                                   ","NA                                   ","TheHairPlug                          ","TheHairPlug                          ","TheHairPlug                          "],["Village walk mall botha- bothe                                                ","Next to church of chache                                                      ","Town white building between Sekoting supermarket and chiefs fast food         ","Digjam building, A white building Opposite Agrivet building Manonyane bus stop","Mapholaneng                                                                   ","88 building room 7                                                            ","Qacha's nek Lifofaneng                                                        ","Qacha's nek Lifofaneng                                                        ","Lakeside Makhaleng complex                                                    ","Opposite usave ha tsolo near Jesus is the lord pre school                     ","Motse Mocha                                                                   ","Hamantsebo                                                                    ","There is not specific  address  since we are offering  house calls            ","Mahlanya building                                                             ","Near Mountain Side Hotel                                                      ","Botha Bothe behind new taxi rank at Damba building                            ","Mahlanya building                                                             ","Maseru, Masowe 1 Phillips                                                     ","Morija , Posong B44 Road                                                      ","Motimposo terminus kamora chemist alongside the supermarket                   ","Motimposo terminus kamora chemist alongside the supermarket                   ","Motimposo terminus kamora chemist alongside the supermarket                   "],["2024-03-26T20:13:08","2024-03-26T03:35:51","2024-03-26T14:11:34","2024-03-27T10:15:45","2024-03-27T09:37:01","2024-03-21T13:22:54","2024-03-26T07:21:13","2024-03-26T07:21:13","2024-03-26T09:09:03","2024-03-27T19:52:47","2024-03-28T08:06:29","2024-03-26T02:51:20","2024-03-28T01:13:55","2024-03-28T13:56:40","2024-03-25T22:59:40","2024-03-27T10:50:44","2024-03-25T12:05:32","2024-03-25T12:39:29","2024-03-26T07:31:59","2024-03-26T09:48:39","2024-03-26T09:48:39","2024-03-26T09:48:39"],["<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: black; background-color: white; font-weight: normal\">Mapaeseka Tsoeute  <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Mamolemo Malapane  <\/span>","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: white; background-color: red; font-weight: bold\">NA                 <\/span>    ","<span style=\"color: black; background-color: white; font-weight: normal\">Itumeleng Moletsane<\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Ntenne Ngakane     <\/span>","<span style=\"color: black; background-color: white; font-weight: normal\">Reitumetse Thulo   <\/span>"],["NA","NA","NA","NA","NA","NA","27","30","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","NA","21","21","21"],["NA            ","NA            ","NA            ","NA            ","NA            ","NA            ","gender_c_woman","gender_c_woman","NA            ","NA            ","NA            ","NA            ","NA            ","NA            ","NA            ","NA            ","NA            ","NA            ","NA            ","gender_c_woman","gender_c_woman","gender_c_man  "],["NA      ","NA      ","NA      ","NA      ","NA      ","NA      ","56728340","63771154","NA      ","NA      ","NA      ","NA      ","NA      ","NA      ","NA      ","NA      ","NA      ","NA      ","NA      ","62210602","62598075","59315034"],["NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","salon_district_c_qac","salon_district_c_qac","NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","NA                  ","salon_district_c_mas","salon_district_c_tha","salon_district_c_mas"],["NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","2024-03-28T08:00:27","2024-03-27T12:47:14","NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","NA                 ","2024-03-28T12:46:44","2024-03-26T15:28:21","2024-03-26T15:15:36"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>fullname_s<\/th>\n      <th>age_s<\/th>\n      <th>gender_s<\/th>\n      <th>whatsapp_s<\/th>\n      <th>mpesa_name_s<\/th>\n      <th>mpesa_s<\/th>\n      <th>salon_district_s<\/th>\n      <th>salon_name_desc_s<\/th>\n      <th>salon_address_s<\/th>\n      <th>submission_time_s<\/th>\n      <th>fullname_c<\/th>\n      <th>age_c<\/th>\n      <th>gender_c<\/th>\n      <th>whatsapp_c<\/th>\n      <th>salon_district_c<\/th>\n      <th>submission_time_c<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"name":"fullname_s","targets":0},{"name":"age_s","targets":1},{"name":"gender_s","targets":2},{"name":"whatsapp_s","targets":3},{"name":"mpesa_name_s","targets":4},{"name":"mpesa_s","targets":5},{"name":"salon_district_s","targets":6},{"name":"salon_name_desc_s","targets":7},{"name":"salon_address_s","targets":8},{"name":"submission_time_s","targets":9},{"name":"fullname_c","targets":10},{"name":"age_c","targets":11},{"name":"gender_c","targets":12},{"name":"whatsapp_c","targets":13},{"name":"salon_district_c","targets":14},{"name":"submission_time_c","targets":15}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[10]; $(this.api().cell(row, 10).node()).css({'background-color':'lightblue'});\nvar value=data[11]; $(this.api().cell(row, 11).node()).css({'background-color':'lightblue'});\nvar value=data[12]; $(this.api().cell(row, 12).node()).css({'background-color':'lightblue'});\nvar value=data[13]; $(this.api().cell(row, 13).node()).css({'background-color':'lightblue'});\nvar value=data[14]; $(this.api().cell(row, 14).node()).css({'background-color':'lightblue'});\nvar value=data[15]; $(this.api().cell(row, 15).node()).css({'background-color':'lightblue'});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
```

###########
#### **Now, reimburse: STYLIST (100 LSL per client) & CLIENT (50 LSL each). And send the Citizen Science certificate to the Stylist**
###########

##### Document this

# Recruitment plot STYLISTS

```r
## Plot 1: stacked including names
# Extract Dates
df_sr$submission_date_only_s <- as.Date(df_sr$submission_time_s)
# Count the number of Stylist registrations of each name on each date
recruitment_counts_s <- table(df_sr$fullname_s, df_sr$submission_date_only_s)
recruitment_df_s <- as.data.frame(recruitment_counts_s)
colnames(recruitment_df_s) <- c("Name", "Date", "Count")
recruitment_df_s <- recruitment_df_s %>% filter(Count != 0)
recruitment_df_s$Date <- as.Date(recruitment_df_s$Date) # Convert Date column to Date type
recruitment_df_s$Name <- factor(recruitment_df_s$Name, levels = unique(recruitment_df_s$Name)) # Create a factor variable for Name based on submission date
# Plotting
ggplot(recruitment_df_s, aes(x = Date, y = Count, fill = Name)) +
  geom_bar(stat = "identity", position = "stack") +
  labs(title = "Recruitment Plot",
       x = "Date",
       y = "Number of Stylists",
       fill = "Name") +
  scale_fill_manual(values = viridis::viridis(length(unique(recruitment_df_s$Name)))) +
  theme_minimal()
```

![](hairsalon_monitoring_v2_files/figure-html/unnamed-chunk-14-1.png)<!-- -->

# Recruitment plot CLIENTS

```r
# Extract Dates
df_cr$submission_date_only_c <- as.Date(df_cr$submission_time_c)

# CLIENT plot: Count the number of Client registrations of each name on each date
recruitment_counts_c <- table(df_cr$fullname_c, df_cr$submission_date_only_c)
recruitment_df_c <- as.data.frame(recruitment_counts_c)
colnames(recruitment_df_c) <- c("Name", "Date", "Count")
recruitment_df_c <- recruitment_df_c %>% filter(Count != 0)
recruitment_df_c$Date <- as.Date(recruitment_df_c$Date) # Convert Date column to Date type
recruitment_df_c$Name <- factor(recruitment_df_c$Name, levels = unique(recruitment_df_c$Name)) # Create a factor variable for Name based on submission date

# Plotting
ggplot(recruitment_df_c, aes(x = Date, y = Count, fill = Name)) +
  geom_bar(stat = "identity", position = "stack") +
  labs(title = "Recruitment Plot",
       x = "Date",
       y = "Number of Clients",
       fill = "Name") +
  scale_fill_manual(values = viridis::viridis(length(unique(recruitment_df_c$Name)))) +
  theme_minimal()
```

![](hairsalon_monitoring_v2_files/figure-html/unnamed-chunk-15-1.png)<!-- -->




